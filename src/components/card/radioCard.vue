<template>
  <div class="radio-card">
    <div class="radio-box">
      <div class="music-radio">
        <div class="music-radio-content flex-box">
          <div class="radio-info txt-4 flex-box">
            <div class="radio-title">
              <h2 class="title-txt">个性电台</h2>
            </div>
            <div class="radio-weather-tip">
              <div class="weather-bar flex-box">
                <svg t="1628754740344" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3884" width="16" height="16"><path d="M1024 511.896979c0 22.096532-17.911673 40.008205-40.008205 40.008205h-40.008205c-53.082886-2.112433-53.042878-77.92198 0-80.01641h40.008205c22.094531 0 40.008205 17.911673 40.008205 40.008205z m-768.157532-346.070972c13.330734 17.781647 38.497895 21.178343 56.011486 8.001641 17.675625-13.256719 21.25836-38.335862 8.001641-56.011486l-24.004922-32.006564c-13.258719-17.679626-38.339863-21.26036-56.011487-8.001641-17.675625 13.256719-21.25836 38.335862-8.001641 56.011486z m256.05251-6.00123c22.096532 0 40.008205-17.911673 40.008205-40.008205v-80.01641c-2.112433-53.082886-77.92198-53.042878-80.016409 0v80.01641c0 22.096532 17.911673 40.008205 40.008204 40.008205z m195.738142 12.466556c18.711837 11.112279 43.49692 5.043034 54.777234-14.166905l20.032108-34.006974c25.121152-46.8116-40.220248-85.249483-68.944139-40.612329l-20.032108 34.006974c-11.2143 19.039905-4.870999 43.564934 14.166905 54.779234z m140.368787 175.578007c7.171471 0 14.43496-1.928395 20.986303-5.975225l68.013949-42.008615c18.799855-11.612381 24.62705-36.263437 13.014669-55.063292-11.614382-18.799855-36.263437-24.629051-55.063293-13.014669l-68.013948 42.008615c-18.799855 11.612381-24.62705 36.263437-13.014669 55.063292 7.565552 12.248512 20.664238 18.989894 34.076989 18.989894z m-764.476778-39.536108l68.013948 40.008205c18.717839 11.102277 43.500921 5.017029 54.769232-14.198912 11.202297-19.045906 4.844994-43.566935-14.198912-54.769232l-68.013948-40.008204c-19.045906-11.204298-43.566935-4.844994-54.769232 14.198911-11.202297 19.043905-4.846994 43.564934 14.198912 54.769232z m428.369849-108.500251c-62.546827 0-123.071239 18.393772-175.029894 53.190909-50.896438 34.08499-90.268512 81.544723-113.861351 137.246146-8.617767 20.346173 0.890183 43.826988 21.236355 52.442755 20.346173 8.619768 43.826988-0.890183 52.442755-21.236355 36.441473-86.037644 120.916797-141.629045 215.212135-141.629045 185.460034-1.422292 298.51922 213.953877 189.288819 365.106875-12.686602 18.08971-8.307704 43.040827 9.784007 55.727428 17.881667 12.596583 42.964811 8.431729 55.727428-9.784006 146.496043-203.18967-5.343096-493.051114-254.800254-491.064707z m-472.096816 352.072203h40.008205c53.082886-2.112433 53.042878-77.92198 0-80.01641h-40.008205c-53.084887 2.112433-53.042878 77.92198 0 80.01641z m898.916348 163.825597l-66.013538-40.008205c-18.897876-11.452349-43.500921-5.419111-54.951269 13.478764-11.452349 18.895875-5.417111 43.498921 13.478764 54.951269l66.013538 40.008205c18.587812 11.350328 43.430907 5.583145 54.951269-13.478764 11.452349-18.895875 5.417111-43.498921-13.478764-54.951269z m-236.780559 146.23799c0 89.33232-72.672904 162.013225-161.997222 162.017226l-361.596155 0.010002c-210.237115-5.159058-246.464544-294.794456-42.806779-349.361646 6.267285-42.52272 25.867305-82.088835 56.733635-113.655308 38.32586-39.198039 89.010254-60.890487 142.713267-61.084528 80.180443-0.304062 152.655306 47.59176 184.777894 119.330472 54.495176 7.835607 97.638023 50.038262 105.3236 103.165157 47.413724 29.089966 76.851761 81.348683 76.85176 139.578625z m-80.016409 0c0-34.715119-19.964094-65.129357-50.862431-77.485891-16.485381-6.591352-25.153158-20.534211-25.153158-40.538313v-6.001231c0-22.346583-19.918085-39.780158-44.049034-40.006204-23.874896 0.222046-43.969017 20.28416-43.969017 44.007025 0 22.196552-18.075707 40.172238-40.312267 40.008204-22.202553-0.166034-39.904183-18.965889-39.698141-41.168442 0.412085-44.47312 24.417007-83.425109 60.112327-104.991532-21.982508-34.058985-60.182342-55.87946-102.126944-55.87946-66.077551 0.238049-122.49112 57.289749-122.49112 124.581549 0.400082 24.827091-19.45799 45.197269-44.287082 45.559344-124.263484 14.438961-114.895563 189.6829 8.323707 193.933771l0.632129-0.004001 361.896217-0.010002c45.205271-0.006001 81.984813-36.791545 81.984814-82.004817z" p-id="3885" fill="#ffffff"></path></svg>
                <span class="weather-txt">{{timeInterval}}</span>
              </div>
              <div class="tip-bar">
                <h3 class="tip-txt">进入电台的音乐世界</h3>
              </div>
            </div>
          </div>
          <div class="radio-play">
            <img src="../../assets/img/play-radio-bg.png" alt="play-radio" class="play-radio-img">
            <div class="play-btn flex-box bg-2" :class="playStyle" @click="handlePlay"></div>
          </div>
        </div>      
      </div>
      <div class="playing-radio-title">
        <h3 class="tit-txt txt-2">秋天的风轻轻吹过</h3>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed } from "vue"

const isPlay = ref(false)
const playStyle = computed(() => {
  return isPlay.value ? 'playing' : 'stop'
})

const timeInterval = computed(() => {
  const date = new Date()
  const nowHour = date.getHours()
  let res = ''
  if (nowHour >=0 && nowHour <= 5) {
    res = '深夜好'
  } else if (nowHour <= 11) {
    res = '早上好'
  } else if (nowHour <= 13) {
    res = '中午好'
  } else if (nowHour <= 17) {
    res = '下午好'
  } else {
    res = '晚上好'
  }
  return res
})

const handlePlay = () => {
  if (!isPlay.value) {
    isPlay.value = true
  } else {
    isPlay.value = false
  }
}
</script>

<style scoped>
.radio-card {
  display: inline-block;
  vertical-align: top;
  width: auto;
}
.radio-box {
  width: 2.2rem;
  height: 1.09rem;
  margin: 0 .04rem;
}
.music-radio {
  position: relative;
  height: 100%;
  border-radius: .08rem;
  background: url(../../assets/img/radio-bg.png) no-repeat;
  background-size: cover;
}
.music-radio .radio-img {
  width: 100%;
  height: 100%;
}
.music-radio-content {
  padding: .14rem .1rem;
  height: 100%;
  box-sizing: border-box;
  justify-content: space-between;
}
.radio-title .title-txt {
  font-size: .17rem;
  font-weight: 600;
}
.weather-bar {
  align-items: center;
}
.radio-info {
  flex-direction: column;
  justify-content: space-between;
}
.weather-bar {
  margin-bottom: .04rem;
  font-weight: 600;
}
.weather-txt {
  margin-left: .04rem;
}
.radio-play {
  width: .82rem;
  height: .82rem;
  overflow: hidden;
  position: relative;
}
.play-radio-img {
  width: 100%;
  height: 100%;
  border-radius: .04rem;
}
.tip-bar .tip-txt {
  opacity: .8;
}
.play-btn {
  position: absolute;
  left: 10%;
  bottom: 10%;
  width: .24rem;
  height: .24rem;
  border-radius: 100%;
  z-index: 10;
  justify-content: center;
  align-items: center;
}
.play-btn.stop::before {
  content: "";
  display: block;
  height: 0;
  width: 0;
  border-color: transparent transparent transparent #000;
  border-width: .06rem .09rem;
  border-style: solid;
  border-radius: .02rem;
  margin-right: -.11rem;
}
.play-btn.playing::before {
  content: "";
  display: block;
  height: .1rem;
  width: .02rem;
  background-color: #000;
  border-radius: .1rem;
}
.play-btn.playing::after {
  content: "";
  display: block;
  height: .1rem;
  width: .02rem;
  background-color: #000;
  border-radius: .1rem;
  margin-left: .04rem;
}
.playing-radio-title .tit-txt {
  margin-top: .06rem;
}
.playing-radio-title .tit-txt {
  display: -webkit-box;
  overflow: hidden;
  white-space: normal;
  text-overflow: ellipsis;
  word-wrap: break-word;
  word-break: normal;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  font-size: .13rem;
}
</style>